(this["webpackJsonpball-sort-game"]=this["webpackJsonpball-sort-game"]||[]).push([[0],{20:function(e,n,t){},21:function(e,n,t){},31:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t(0),l=t.n(o),a=t(23),s=t.n(a),r=(t(31),t(19)),i=(t(20),t(21),t(7)),u=t(9),d=t(42),j=Object(o.createContext)(),b=function(e){var n=Object(o.useState)(),t=Object(u.a)(n,2),l=t[0],a=t[1],s=Object(o.useState)(),r=Object(u.a)(s,2),b=r[0],h=r[1],O=Object(o.useState)(null),f=Object(u.a)(O,2),g=f[0],m=f[1],x=Object(o.useState)(5),v=Object(u.a)(x,2),p=v[0],C=v[1],N=Object(o.useState)([]),B=Object(u.a)(N,2),S=B[0],k=B[1],w=Object(o.useState)(!1),I=Object(u.a)(w,2),y=I[0],H=I[1],F=function(e){for(var n=new Array([],[]),t=[],c=e.length-1;c>0;c--){var o=Math.floor(Math.random()*(c+1)),l=[e[o],e[c]];e[c]=l[0],e[o]=l[1]}for(;e.length;)t.push(e.splice(0,4));var a=t.concat(n);h(a),J(a)},J=function(e){a(JSON.parse(JSON.stringify(e))),console.log("first init",l)},M=function(e){var n=Object(i.a)(b);m(Object.assign(n[e][n[e].length-1],{index:e})),Object.assign(n[e][n[e].length-1],{class:"chosen"}),h(n),console.log("added")},R=function(e){var n=Object(i.a)(b);delete n[e][n[e].length-1].class,h(n),m(null),console.log("removed")},A=function(e){var n=Object(i.a)(b);delete n[g.index][n[g.index].length-1].class,n[e].push(n[g.index][n[g.index].length-1]),n[g.index].splice(n[g.index].length-1,1),h(n),m(null),console.log("moved"),L(g.index,e),P()},L=function(e,n){var t=Object(i.a)(S);t.push({oldIndex:e,newIndex:n}),t.length>p&&t.splice(0,t.length-p),k(t),console.log(S)},P=function(){for(var e,n=0;n<b.length;n++){if(!1===e){console.log("didWin is false");break}if(0!==b[n].length&&b[n].length<4&&(console.log("less than 4",b,n),e=!1),b[n].length>0&&4===b[n].length)for(var t=1;t<b[n].length;t++){if(b[n][t].num!==b[n][t-1].num){e=!1,console.log("not equal to previous"),console.log("break");break}e=!0,console.log("equal to previous")}console.log(b)}return H(e)};return Object(c.jsx)(j.Provider,{value:{shuffleBalls:function(e){for(var n=[],t=1;t<=e;t++)for(var c=0;c<4;c++)n.push({num:t,id:Object(d.a)()});F(n)},randomBalls:b,setRandomBalls:h,moveBallHandler:function(e){console.log(g),b[e].length<1&&null===g||(null===g&&M(e),null!==g&&(e===g.index?R(e):4===b[e].length?(R(g.index),M(e)):b[e].length<1||g.num===b[e][b[e].length-1].num&&4!==b[e].length?A(e):g.num!==b[e][b[e].length-1].num&&(R(g.index),M(e))))},completed:y,undoHandler:function(){if(0!==S.length&&0!==p){C(p-1);var e=Object(i.a)(b);console.log("undoMoves",S);var n=e[S[S.length-1].newIndex].pop();console.log("undoItem",n),e[S[S.length-1].oldIndex].push(n),h(e);var t=Object(i.a)(S);t.pop(),k(t),console.log(p)}},undoCount:p,initialRandomBalls:l,setInitialRandomBalls:a,restartHandler:function(){var e=Object(i.a)(l);h(e),C(5),k([]),console.log("init",l,"rand",b)}},children:e.children})},h=t(12),O=function(e){var n=Object(o.useContext)(j).shuffleBalls;return Object(c.jsxs)("div",{className:"selection-container",children:[Object(c.jsx)("h3",{children:"How many colors?"}),Object(c.jsx)("div",{className:"selections",children:e.colors.map((function(e){return e.num>2?Object(c.jsx)(h.a,{to:{pathname:"/board",tubesClass:e.num},onClick:function(){return n(e.num)},children:Object(c.jsx)("div",{className:"selection-ball color".concat(e.num),children:e.num})},e.id):null}))})]})},f=(t(37),function(e){return Object(c.jsx)("div",{className:"ball color".concat(e.content.num," ").concat(e.content.class)},e.content.id)}),g=(t(38),function(e){var n=Object(o.useContext)(j).moveBallHandler;return Object(c.jsx)("div",{className:"tube",onClick:function(){return n(e.index)},children:e.balls.map((function(n){return void 0!==n?Object(c.jsx)(f,{content:n,tubeArray:e.balls,tubeIndex:e.index},Object(d.a)()):null}))})}),m=(t(39),t(25)),x=t.n(m),v=function(e){var n=Object(o.useContext)(j),t=n.randomBalls,l=n.completed,a=n.undoHandler,s=n.undoCount,r=n.restartHandler;return Object(c.jsxs)("div",{className:"board-container",children:[Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)(x.a,{active:l,config:{angle:90,spread:360,startVelocity:40,elementCount:70,dragFriction:.12,duration:3e3,stagger:3,width:"10px",height:"10px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]}}),Object(c.jsx)("button",{className:"header-controls",onClick:function(){return window.location.reload()},children:"New game"}),Object(c.jsx)("button",{className:"header-controls",onClick:function(){return r()},children:"Reset"}),Object(c.jsxs)("button",{className:"header-controls",onClick:function(){return a()},children:["Undo ",s]})]}),Object(c.jsx)("div",{className:"tubes-container",children:void 0!==t?t.map((function(e,n){return void 0!==e?Object(c.jsx)(g,{balls:e,index:n},Object(d.a)()):Object(c.jsx)("div",{className:"tube"})})):null})]})},p=t(2);var C=function(){var e=[{num:1,id:Object(d.a)()},{num:2,id:Object(d.a)()},{num:3,id:Object(d.a)()},{num:4,id:Object(d.a)()},{num:5,id:Object(d.a)()},{num:6,id:Object(d.a)()},{num:7,id:Object(d.a)()},{num:8,id:Object(d.a)()}];return Object(c.jsx)(b,{children:Object(c.jsx)(p.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)(p.d,{children:[Object(c.jsx)(p.b,{exact:!0,path:"/",render:function(n){return Object(c.jsx)(O,Object(r.a)({colors:e},n))}}),Object(c.jsx)(p.b,{exact:!0,path:"/board",render:function(n){return Object(c.jsx)(v,Object(r.a)({colors:e},n))}})]}),Object(c.jsx)("footer",{children:"\xa9 2021 Created by Lital Shalom"})]})})})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,l=n.getLCP,a=n.getTTFB;t(e),c(e),o(e),l(e),a(e)}))};s.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),N()}},[[41,1,2]]]);
//# sourceMappingURL=main.1a8b2006.chunk.js.map